

































<title>Percona Monitoring and Management &mdash; Architecture</title>

<head>
    


    
<script src="../js/version-select.js" type="text/javascript"></script>

<script src="../js/toctree.js" type="text/javascript"></script>

<script src="../js/lightgallery.min.js" type="text/javascript"></script>


<script>
    var elements = document.getElementsByClassName("lightgallery");
    for(var i=0; i<elements.length; i++) {
       lightGallery(elements[i]);
    }
</script>

    <link rel="top" title="" href="https://www.percona.com/percona-monitoring-and-management/2.x" />
    
    <link rel="next" title="UI components" href="interface.html" />
    
    
</head>

<body>
    <div class="container">
        
<link rel="stylesheet" href="../css/version-select.css" type="text/css">
<link rel="stylesheet" href="../css/toctree.css" type="text/css">

        
<script src="../js/version-select.js" type="text/javascript"></script>

<script src="../js/toctree.js" type="text/javascript"></script>

<script src="../js/lightgallery.min.js" type="text/javascript"></script>


<script>
    var elements = document.getElementsByClassName("lightgallery");
    for(var i=0; i<elements.length; i++) {
       lightGallery(elements[i]);
    }
</script>

        <div class="document row">
            <div class="documentwrapper col-md-9 col-md-push-3">
                
<div class="related row">
    <ul class="nav nav-pills">
        
        <li class="right" style="margin-right: 10px">
            <a href="interface.html" title="UI components">Next</a>
        </li>
        
        
        <li class="right" style="margin-right: 10px">
            <a href="index.html" title="Details">Previous</a>
        </li>
        
        <li>
            <a href="https://www.percona.com/percona-monitoring-and-management/2.x">Home</a>
        </li>
    </ul>
</div>

                

<div class="small">
    <ul class="list-inline">
        <li class="pull-right">
            <a href="https://github.com/percona/pmm-doc/edit/main/docs/details/architecture.md" target="_blank" title=""><i class="uil uil-pen"></i> <b>Edit this page</b></a>
        </li>
    </ul>
</div>


                <div class="bodywrapper">
                    <div class="body">
                        <h1 id="architecture">Architecture<a class="headerlink" href="#architecture" title="Permanent link">&para;</a></h1>
<p>PMM is a client/server application built by Percona comprising its own and third-party components and tools.</p>
<!-- The source of this image is maintained at https://miro.com/app/board/uXjVOPgKgrE=/ -->

<p><div class="lightgallery"><a data-sub-html="image" href="../_images/C_S_Architecture.jpg"><img alt="image" src="../_images/C_S_Architecture.jpg" /></a></div></p>
<h2 id="pmm-server">PMM Server<a class="headerlink" href="#pmm-server" title="Permanent link">&para;</a></h2>
<p>PMM Server is the heart of PMM. It receives data from clients, collects it, and stores it. Metrics are drawn as tables, charts and graphs within <a href="dashboards/"><em>dashboards</em></a>, each a part of the web-based <a href="../using/interface.html">user interface</a>.</p>
<h2 id="pmm-client">PMM Client<a class="headerlink" href="#pmm-client" title="Permanent link">&para;</a></h2>
<p>PMM Client is a collection of agents and exporters that run on the host being monitored.</p>
<p>PMM Client runs on every database host or node you want to monitor. The client collects server metrics, general system metrics, query analytics and sends it to the server. Except when monitoring AWS RDS instances, a PMM Client must be running on the host to be monitored.</p>
<h2 id="percona-platform">Percona Platform<a class="headerlink" href="#percona-platform" title="Permanent link">&para;</a></h2>
<p><a href="../using/platform/">Percona Platform</a> provides value-added services for PMM.</p>
<h2 id="pmm-context">PMM context<a class="headerlink" href="#pmm-context" title="Permanent link">&para;</a></h2>
<p>The PMM Client package provides:</p>
<ul>
<li>Exporters for each database and service type. When an exporter runs, it connects to the database or service instance, runs the metrics collection routines, and sends the results to PMM Server.</li>
<li><code>pmm-agent</code>: Run as a daemon process, it starts and stops exporters when instructed.</li>
<li><code>vmagent</code>: A VictoriaMetrics daemon process that sends metrics data (<em>pushes</em>) to PMM Server.</li>
</ul>
<p>The PMM Server package provides:</p>
<ul>
<li><code>pmm-managed</code></li>
<li>Query Analytics</li>
<li>Grafana</li>
<li>VictoriaMetrics</li>
</ul>
<h3 id="pmm-server_1">PMM Server<a class="headerlink" href="#pmm-server_1" title="Permanent link">&para;</a></h3>
<p><div class="lightgallery"><a data-sub-html="image" href="../_images/PMM_Architecture_Client_Server.jpg"><img alt="image" src="../_images/PMM_Architecture_Client_Server.jpg" /></a></div></p>
<p>PMM Server includes the following tools:</p>
<ul>
<li>
<p>Query Analytics (QAN) enables you to analyze database query performance over periods of time. In addition to the client-side QAN agent, it includes the following:</p>
</li>
<li>
<p>QAN API is the back-end for storing and accessing query data collected by the QAN agent running on a PMM Client.</p>
</li>
<li>
<p>QAN App is a web application for visualizing collected Query Analytics data which is part of the PMM Server&rsquo;s UI.</p>
</li>
<li>
<p>Metrics Monitor provides a historical view of metrics that are critical to a MySQL or MongoDB server instance. It includes the following:</p>
</li>
<li>
<p><a href="https://github.com/VictoriaMetrics/VictoriaMetrics">VictoriaMetrics</a>, a scalable time-series database. (Replaced <a href="https://prometheus.io">Prometheus</a> in <a href="../release-notes/2.12.0.html">PMM 2.12.0</a>.)</p>
</li>
<li><a href="https://clickhouse.com">ClickHouse</a> is a third-party column-oriented database that facilitates the Query Analytics functionality.</li>
<li><a href="http://docs.grafana.org">Grafana</a> is a third-party dashboard and graph builder for visualizing data aggregated (by VictoriaMetrics or Prometheus) in an intuitive web interface.</li>
<li><a href="https://github.com/percona/grafana-dashboards">Percona Dashboards</a> is a set of dashboards for Grafana developed by Percona.</li>
</ul>
<h3 id="pmm-client_1">PMM Client<a class="headerlink" href="#pmm-client_1" title="Permanent link">&para;</a></h3>
<p><div class="lightgallery"><a data-sub-html="image" href="../_images/diagram.pmm.client-architecture.png"><img alt="image" src="../_images/diagram.pmm.client-architecture.png" /></a></div></p>
<p>The PMM Client package consists of the following:</p>
<ul>
<li>
<p><code>pmm-admin</code> is a command-line tool for managing PMM Client, for example, adding and removing database instances that you want to monitor. (<a href="commands/pmm-admin.html">Read more</a>).</p>
</li>
<li>
<p><code>pmm-agent</code> is a client-side component a minimal command-line interface, which is a central entry point in charge for bringing the client functionality: it carries on clientâ€™s authentication, gets the client configuration stored on the PMM Server, manages exporters and other agents.</p>
</li>
<li>
<p><code>node_exporter</code> is an exporter that collects general system metrics.</p>
</li>
<li>
<p><code>mysqld_exporter</code> is an exporter that collects MySQL server metrics.</p>
</li>
<li>
<p><code>mongodb_exporter</code> is an exporter that collects MongoDB server metrics.</p>
</li>
<li>
<p><code>postgres_exporter</code> is an exporter that collects PostgreSQL performance metrics.</p>
</li>
<li>
<p><code>proxysql_exporter</code> is an exporter that collects ProxySQL performance metrics.</p>
</li>
<li>
<p><code>rds_exporter</code> is an exporter that collects Amazon RDS performance metrics.</p>
</li>
<li>
<p><code>azure_database_exporter</code> is an exporter that collects Azure database performance metrics.</p>
</li>
</ul>
<p>To make data transfer from PMM Client to PMM Server secure, all exporters are able to use SSL/TLS encrypted connections, and their communication with the PMM server is protected by the HTTP basic authentication.</p>
<!-- The source of this image is maintained at https://miro.com/app/board/uXjVOPgKgrE=/ -->

<p><div class="lightgallery"><a data-sub-html="image" href="../_images/C_S_Interactions.jpg"><img alt="image" src="../_images/C_S_Interactions.jpg" /></a></div></p>
                    </div>
                </div>
                
<div class="small">
    <ul class="list-inline">
        
        <li class="left">
            <i class="uil uil-refresh"></i> Page updated 2022-04-13
        </li>
        
    </ul>
</div>

                
<div class="related row">
    <ul class="nav nav-pills">
        
        <li class="right" style="margin-right: 10px">
            <a href="interface.html" title="UI components">Next</a>
        </li>
        
        
        <li class="right" style="margin-right: 10px">
            <a href="index.html" title="Details">Previous</a>
        </li>
        
        <li>
            <a href="https://www.percona.com/percona-monitoring-and-management/2.x">Home</a>
        </li>
    </ul>
</div>

            </div>
            
<div class="sphinxsidebar col-md-3 col-md-pull-9">
    <div class="sphinxsidebarwrapper">
        {@ product_logo @}
        {@ product_pdf_download @}
        
<section class="select-wrapper" id="version-select-wrapper">
    <!-- Empty locator section for version selector -->
</section>

        <h3 id="toctree-heading"><a href="https://www.percona.com/percona-monitoring-and-management/2.x">Contents</a></h3>
        

<ul class="toctree" id="toctree">


<li class="toctree-l1">
    <a class="reference internal" href="../index.html">Welcome</a>




<li class="toctree-l1">
    <a class="reference internal" href="../setting-up/index.html">Setting up</a>




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../setting-up/server/index.html">Server</a>




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/server/network.html">Network</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/server/docker.html">Docker</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/server/podman.html">Podman</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/server/helm.html">Helm</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/server/virtual-appliance.html">Virtual Appliance</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/server/aws.html">AWS Marketplace</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/server/easy-install.html">Easy-install script</a>



</ul>





<li class="toctree-l2">
    <a class="reference internal" href="../setting-up/client/index.html">Client</a>




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/mysql.html">MySQL</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/mongodb.html">MongoDB</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/postgresql.html">PostgreSQL</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/proxysql.html">ProxySQL</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/aws.html">Amazon RDS</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/azure.html">Microsoft Azure</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/google.html">Google Cloud Platform</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/linux.html">Linux</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/external.html">External Services</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/haproxy.html">HAProxy</a>




<li class="toctree-l3">
    <a class="reference internal" href="../setting-up/client/remote.html">Remote instances</a>



</ul>




</ul>





<li class="toctree-l1">
    <a class="reference internal" href="../using/index.html">Using</a>




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../using/interface.html">User Interface</a>




<li class="toctree-l2">
    <a class="reference internal" href="../using/alerting.html">Percona Alerting</a>




<li class="toctree-l2">
    <a class="reference internal" href="../using/backup.html">Backup and Restore</a>




<li class="toctree-l2">
    <a class="reference internal" href="../using/query-analytics.html">Query Analytics</a>




<li class="toctree-l2">
    <a class="reference internal" href="../using/dbaas.html">DBaaS</a>



</ul>





<li class="toctree-l1">
    <a class="reference internal" href="../how-to/index.html">How to</a>




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../how-to/configure.html">Configure</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/manage-users.html">Manage users</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/upgrade.html">Upgrade</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/secure.html">Secure</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/optimize.html">Optimize</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/annotate.html">Annotate</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/share-dashboard.html">Share dashboards and panels</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/extend-metrics.html">Extend Metrics</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/troubleshoot.html">Resolve issues</a>




<li class="toctree-l2">
    <a class="reference internal" href="../how-to/integrate-platform.html">Integrate with Percona Platform</a>




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="../how-to/account-info.html">Check Percona Portal account information</a>




<li class="toctree-l3">
    <a class="reference internal" href="../how-to/advisors.html">Work with Advisor checks</a>



</ul>




</ul>





<li class="toctree-l1">
    <a class="reference internal" href="index.html">Details</a>




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="architecture.html">Architecture</a>




<li class="toctree-l2">
    <a class="reference internal" href="interface.html">UI components</a>




<li class="toctree-l2">
    <a class="reference internal" href="pmm_components_and_versions.html">PMM components and versions</a>




<li class="toctree-l2">
    <a class="reference internal" href="develop-checks/index.html">Develop checks</a>




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="develop-checks/checks-v1.html">Version 1 checks for PMM 2.27 and older</a>




<li class="toctree-l3">
    <a class="reference internal" href="develop-checks/checks-v2.html">Version 2 advisor checks for PMM 2.28 and newer</a>



</ul>





<li class="toctree-l2">
    <a class="reference internal" href="dashboards/index.html">Dashboards</a>




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="dashboards/dashboard-manage-dashboards.html">Manage dashboards</a>




<li class="toctree-l3">
    <a class="reference internal" href="javascript: void(0)" style="text-decoration: none">PMM dashboards</a>





<ul class="toctree" id="toctree">


<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-home.html">Insight</a>








<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-inventory.html">PMM Inventory</a>








<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-cluster-summary.html">DBaas</a>




<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-cpu-utilization-details.html">OS Dashboards</a>








<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-prometheus-exporter-status.html">Prometheus Dashboards</a>








<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-mysql-amazon-aurora-details.html">MySQL Dashboards</a>








<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-mongodb-experimental_collection_overview.html">MongoDB Dashboards</a>








<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-postgresql-instances-overview.html">PostgreSQL Dashboards</a>








<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-proxysql-instance-summary.html">ProxySQL Dashboards</a>




<li class="toctree-l4">
    <a class="reference internal" href="dashboards/dashboard-pxc-galera-node-summary.html">HA Dashboards</a>







</ul>




</ul>





<li class="toctree-l2">
    <a class="reference internal" href="commands/index.html">Commands</a>




<ul class="toctree" id="toctree">


<li class="toctree-l3">
    <a class="reference internal" href="commands/pmm-admin.html">pmm-admin - PMM Administration Tool</a>




<li class="toctree-l3">
    <a class="reference internal" href="commands/pmm-agent.html">pmm-agent - PMM Client agent</a>



</ul>





<li class="toctree-l2">
    <a class="reference internal" href="api.html">API</a>




<li class="toctree-l2">
    <a class="reference internal" href="victoria-metrics.html">VictoriaMetrics</a>




<li class="toctree-l2">
    <a class="reference internal" href="clickhouse.html">ClickHouse</a>




<li class="toctree-l2">
    <a class="reference internal" href="glossary.html">Glossary</a>



</ul>





<li class="toctree-l1">
    <a class="reference internal" href="../faq.html">FAQ</a>




<li class="toctree-l1">
    <a class="reference internal" href="../release-notes/index.html">Release Notes</a>




<ul class="toctree" id="toctree">


<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.31.0.html">PMM 2.31.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.30.0.html">PMM 2.30.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.29.1.html">PMM 2.29.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.29.0.html">PMM 2.29.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.28.0.html">PMM 2.28.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.27.0.html">PMM 2.27.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.26.0.html">PMM 2.26.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.25.0.html">PMM 2.25.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.24.0.html">PMM 2.24.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.23.0.html">PMM 2.23.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.22.0.html">PMM 2.22.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.21.0.html">PMM 2.21.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.20.0.html">PMM 2.20.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.19.0.html">PMM 2.19.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.18.0.html">PMM 2.18.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.17.0.html">PMM 2.17.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.16.0.html">PMM 2.16.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.15.1.html">PMM 2.15.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.15.0.html">PMM 2.15.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.14.0.html">PMM 2.14.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.13.0.html">PMM 2.13.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.12.0.html">PMM 2.12.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.11.1.html">PMM 2.11.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.11.0.html">PMM 2.11.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.10.1.html">PMM 2.10.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.10.0.html">PMM 2.10.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.9.1.html">PMM 2.9.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.9.0.html">PMM 2.9.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.8.0.html">PMM 2.8.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.7.0.html">PMM 2.7.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.6.1.html">PMM 2.6.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.6.0.html">PMM 2.6.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.5.0.html">PMM 2.5.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.4.0.html">PMM 2.4.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.3.0.html">PMM 2.3.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.2.2.html">PMM 2.2.2</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.2.1.html">PMM 2.2.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.2.0.html">PMM 2.2.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.1.0.html">PMM 2.1.0</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.0.1.html">PMM 2.0.1</a>




<li class="toctree-l2">
    <a class="reference internal" href="../release-notes/2.0.0.html">PMM 2.0.0</a>



</ul>




</ul>


        

<h4>Previous page</h4>
<p class="topless">
    <a href="index.html" title="previous chapter">Details</a>
</p>


<h4>Next page</h4>
<p class="topless">
    <a href="interface.html" title="next chapter">UI components</a>
</p>


        {@ product_series @}
    </div>
</div>

            <div class="clearer"></div>
        </div>
    </div>
</body>